# Agro Drones Project (Backend)

## Опис проекту
Проект розроблений для планування завдань для дронів, які використовуються в сільському господарстві.

Цей проект є серверним додатком, побудованим на основі Node.js з використанням фреймворку Express. Ось основні компоненти та функціональність проекту: 

**1. Імпорт модулів:**

- `express`: фреймворк для створення веб-серверів.
- `dotenv`: для завантаження змінних середовища з `.env` файлу.
- `connectDB`: функція для підключення до бази даних.
- `bodyParser`: для парсингу JSON-запитів.
- Роутери для різних ресурсів: `droneRouter`, `fieldRouter`, `taskRouter`, `authRouter`.
- `swaggerDocs`: для генерації документації API.

**2. Налаштування середовища:**

- Завантаження змінних середовища з `.env` файлу.

**3. Створення екземпляра Express:**

- Створення додатку Express.
- Встановлення порту для сервера (за замовчуванням 3000 або значення з змінної середовища `PORT`).

**4. Налаштування middleware:**

- `bodyParser.json()`: для парсингу JSON-запитів.
- Налаштування CORS (Cross-Origin Resource Sharing) для дозволу запитів з будь-якого джерела.
- Підключення роутерів для обробки запитів до різних ресурсів (`/api/drones`, `/api/fields`, `/api/tasks`, `/api/auth`).

**5. Обробка помилок:**

- Middleware для обробки помилок, яке логує помилки та відправляє відповідь з кодом статусу та повідомленням про помилку.

**6. Підключення до бази даних:**

- Виклик функції `connectDB()` для підключення до бази даних.

**7. Запуск сервера:**

- Запуск сервера на вказаному порту та виведення повідомлення в консоль про успішний запуск.

**8. Документація API:**

- Виклик функції `swaggerDocs` для генерації документації API.

Цей проект надає API для роботи з дронами, полями, завданнями та аутентифікацією користувачів.

## Структура проекту:

Проект побудований за архітектурним шаблоном **MRCS (Model-Route-Controller-Service)**. 

Основні компоненти та їх функціональність:

`.env` - файл з змінними середовища.
`src/app.js` - головний файл додатку, який створює та налаштовує сервер.
`src/config/` - директорія з конфігураційними файлами. Зокрема, `database.js` для налаштування підключення до бази даних.
`src/controllers/` - директорія з контролерами для обробки запитів.
`src/models/` - директорія з моделями для роботи з базою даних.
`src/routes/` - директорія з роутерами для обробки маршрутів.
`src/services/` - директорія з сервісами для виконання бізнес-логіки. Зокрема, `logger.js` для логування подій.
`src/middleware/` - директорія з middleware для обробки запитів. Зокрема, `is-auth.js` для перевірки автентифікації користувача.
`swagger.js` - файл з налаштуваннями для генерації документації API.

## Деталізований опис технологій:

- **Node.js**: серверна платформа, побудована на рушії V8 JavaScript від **Google Chrome**. **Node.js** дозволяє виконувати **JavaScript** на сервері, що дозволяє створювати швидкі та масштабовані мережеві застосунки. **Node.js** використовує події та неблокуючий ввод/вивід, що робить його легким та ефективним. **Node.js** також має велику кількість пакетів, які допомагають розширити його функціональність. **Node.js** використовується для створення серверів, веб-додатків, API та багато іншого. **Node.js** дозволяє використовувати **JavaScript** для розробки серверних додатків, що дозволяє розробникам використовувати одну мову програмування для розробки як клієнтської, так і серверної частини додатків.

- **Express.js**: веб-фреймворк для **Node.js**, який надає можливість створювати веб-сервери та додатки. **Express.js** дозволяє швидко створювати веб-сервери та додатки за допомогою **Node.js**. **Express.js** має велику кількість пакетів, які допомагають розширити його функціональність. **Express.js** використовується для створення веб-серверів, API, веб-додатків та багато іншого.

- **MongoDB**: документо-орієнтована база даних, яка використовує **JSON**-подібні документи з динамічними схемами. **MongoDB** дозволяє легко та швидко зберігати та отримувати дані. **MongoDB** використовується для зберігання даних в багатьох сучасних додатках та сервісах. **MongoDB** дозволяє швидко розширювати та масштабувати бази даних.

- **JWT (JSON Web Tokens)**: стандарт для створення токенів доступу на основі **JSON**. **JWT** дозволяє створювати токени доступу, які можна використовувати для автентифікації та авторизації користувачів. **JWT** дозволяє створювати токени доступу, які можна перевіряти та перевіряти на валідність.

- **bycrypt**: бібліотека для хешування паролів. **bycrypt** дозволяє розробникам хешувати паролі користувачів, що дозволяє зберігати паролі безпечно та захищено. 

- **dotenv**: модуль, який дозволяє розробникам керувати конфігураційними змінними середовища. **dotenv** дозволяє розробникам визначати змінні середовища у файлі `.env` та використовувати їх у своєму додатку. dotenv дозволяє розробникам зберігати конфігураційні змінні у файлі `.env`, що дозволяє розробникам легко керувати конфігурацією свого додатку.

- **body-parser**: модуль, який дозволяє розробникам парсити тіло запитів HTTP. **body-parser** дозволяє розробникам отримувати доступ до даних, які надходять у тілі запиту HTTP, таких як JSON, URL-кодовані дані та багато іншого. **body-parser** дозволяє розробникам легко отримувати доступ до даних, які надходять у тілі запиту HTTP, що дозволяє розробникам працювати з даними, які надходять від клієнта.

- **Mongoose**: бібліотека **ORM (Object-Relational Mapping)** для **MongoDB**, яка дозволяє розробникам працювати з базою даних **MongoDB**, використовуючи об'єктно-орієнтований підхід. **Mongoose** дозволяє розробникам визначати моделі даних, створювати запити до бази даних та багато іншого. Mongoose дозволяє розробникам працювати з **MongoDB**, використовуючи звичайні об'єкти та класи, що робить роботу з базою даних **MongoDB** більш зручною та ефективною.

- **Swagger**: інструмент для створення документації API. **Swagger** дозволяє розробникам створювати документацію API за допомогою специфікації **OpenAPI**. **Swagger** дозволяє розробникам створювати документацію API, яка допомагає іншим розробникам розуміти, як використовувати API.

## Запуск проекту:

**1. Після клонування репозиторію і переходу в директорію проекту, встановіть залежності за допомогою команди:**

```sh
npm install
```

**2. У файлі `.env` в корені проекту перевизначте змінні середовища, якщо це необхідно.**

```sh
PORT=3000
MONGODB_URI=mongodb://localhost:27017/agro-drones-db
JWT_SECRET=somesupersecretsecret
REFRESH_TOKEN=somesupersecretrefresh
PERIOD_MIN=60
```

**3. Запустіть сервер за допомогою команди:**

```sh
npm run dev
```
> [!NOTE]
> Переконайтеся, що база даних **MongoDB** запущена на порту **27017**.

**4. Документація API доступна за посиланням після запуску сервера:**

[http://localhost:3000/api-docs](http://localhost:3000/api-docs)

Документація заповнена часково, лише для демонстрації можливостей **Swagger**.

## Джерела:

- **Node.js**: [https://nodejs.org](https://nodejs.org/)
- **Express.js**: [https://expressjs.com](https://expressjs.com/)
- **MongoDB**: [https://www.mongodb.com](https://www.mongodb.com/)
- **jsonwebtoken**: [https://www.npmjs.com/package/jsonwebtoken](https://www.npmjs.com/package/jsonwebtoken)
- **bcrypt**: [https://www.npmjs.com/package/bcrypt](https://www.npmjs.com/package/bcrypt)
- **dotenv**: [https://www.npmjs.com/package/dotenv](https://www.npmjs.com/package/dotenv)
- **body-parser**: [https://www.npmjs.com/package/body-parser](https://www.npmjs.com/package/body-parser)
- **Mongoose**: [https://mongoosejs.com](https://mongoosejs.com/)
- **Swagger**: [https://swagger.io](https://swagger.io/)
- **bycrypt**: [https://www.npmjs.com/package/bcrypt](https://www.npmjs.com/package/bcrypt)

## MongoDB:

- **Windows**: [https://docs.mongodb.com/manual/tutorial/install-mongodb-on-windows/](https://docs.mongodb.com/manual/tutorial/install-mongodb-on-windows/)

- **Linux**: [https://docs.mongodb.com/manual/administration/install-on-linux/](https://docs.mongodb.com/manual/administration/install-on-linux/)

- **Mac**: [https://docs.mongodb.com/manual/tutorial/install-mongodb-on-os-x/](https://docs.mongodb.com/manual/tutorial/install-mongodb-on-os-x/)

- **Compass** - графічний інтерфейс для роботи з MongoDB, який можна завантажити з офіційного сайту:
[https://www.mongodb.com/products/compass](https://www.mongodb.com/products/compass)








